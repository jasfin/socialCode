let createComment=function(e){console.log("comments ajax js class loaded for"),console.log("id here is:#comment-form-"+e);let o=$("#comment-form-"+e);console.log("newFormDommed is:",o),o.submit((function(e){console.log("preventing default"),e.preventDefault(),console.log("after prevention"),console.log("serialized newComment form is",o.serialize()),$.ajax({type:"post",url:"/comments/create",data:o.serialize(),success:function(e){console.log("data at comment creation:",e);let o=commentDom(e.data.comment);console.log("appending new comment to:#post-comments-"+e.data.comment.post),$("#post-comments-"+e.data.comment.post).append(o),deleteComment($(" .delete-comment-button",o))},error:function(e){console.log(e.responseText)}})}))},commentDom=function(e){return $(`<li id="comment-${e._id}">\n                    <p>\n                        <small>\n                            <a class="delete-comment-button" href="/comments/delete/${e._id}">XX</a>\n                        </small>\n                          ${e.content}\n                        <br>\n                        <small>\n                            ${e.user.name}\n                        </small>\n                    </p>\n                  </li>`)},deleteComment=function(e){$(e).click((function(o){o.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$("#comment-"+e.data.comment_id).remove()},error:function(e){console.log(e.responseText)}})}))};